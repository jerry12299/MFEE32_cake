<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        /* :root{
            $keyart-w:600px;
        } */
        body {
            overflow-x: hidden;
            margin: 0px;
        }

        .keyart-container {
            width: 1518px;
            height: 750px;
            

        }

        .keyart-layer {
            width: 1518px;
            height: 750px;
            background-repeat: repeat-x;
            position: fixed;
            background-position: bottom center;
            z-index: -1;
        }

        .after {
            background-color: violet;
            height: 3000px;
        }


        #parallax-1 {
            background-image: url(./Source/IMG/Key-Vision/sky.png);
        }

        /* #parallax-2{background-image: url(./Source/IMG/Key-Vision/cloud);} */
        #parallax-3 {
            background-image: url(./Source/IMG/Key-Vision/middle.png);
        }

        #parallax-4 {
            background-image: url(./Source/IMG/Key-Vision/cake.png);
        }

        #parallax-5 {
            background-image: url(./Source/IMG/Key-Vision/T.png);
        }
    </style>
</head>

<body>
    <div class="keyart-container">
        <div class="keyart-layer"  id="parallax-1"></div>
        <!-- <div class="keyart-layer" id="parallax-2"></div> -->
        <div class="keyart-layer" speed="30" id="parallax-3"></div>
        <div class="keyart-layer" speed="50" id="parallax-4"></div>
        <div class="keyart-layer" speed="100" id="parallax-5"></div>
    </div>

    <div class="after">下方內容</div>

    <script>
        let layers = document.querySelectorAll('.keyart-layer');
        let speed, ypos;
        //視窗捲動事件
        window.addEventListener("scroll",function (event) {
        //文件垂直捲動的像素值
        let fromTop = this.pageYOffset;
        //偏移各圖層位置
        for(let layer of layers){
        speed = layer.getAttribute('speed');
        //偏移捲動量*速度,再乘上個基數
        yPos = -(fromTop * speed) * 0.01;
        layer.style.transform=`translateY(${yPos}px)` ;
        }
        });
        </script>
</body>

</html>